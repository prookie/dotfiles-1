{"mode":"editor","version":1,"windowDimensions":{"x":0,"y":22,"width":1440,"height":812},"syntax":{"deserializer":"Syntax","grammarOverridesByPath":{}},"project":{"path":"/Users/marian/Projects/miniprojects/rct2-ResourCeTool2","buffers":[{"text":"module.exports = angular.module('app.tasks', ['firebase', 'app'])\n    .factory('TasksFactory', function (FirebaseRef, $firebase) {\n        var taskRef = FirebaseRef('tasks');\n        return {\n            tasks: $firebase(taskRef),\n            add: function (data) {\n                return this.tasks.$add(data);\n            }\n        };\n    });","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":195},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/marian/Projects/miniprojects/rct2-ResourCeTool2/src/scripts/tasks/index.js","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"8b686d8f5d05fc7776a9049c58e66a22dfad4e29","deserializer":"TextBuffer"},{"text":"<div ng-controller=\"AssignmentsCtrl\">\n    <div class=\"row\">\n        <div class=\"col-md-offset-4 col-md-4 col-sm-offset-3 col-sm-6\">\n            <div class=\"input-group form-group\">\n                <span class=\"input-group-btn\">\n          <button class=\"btn btn-default\" ng-click=\"decrementWeek()\">-</button>\n        </span>\n\n                <p class=\"form-control-static form-control text-center\">{{ week }}. Week of 2014</p>\n        <span class=\"input-group-btn\">\n          <button class=\"btn btn-default\" ng-click=\"incrementWeek()\">+</button>\n        </span>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"row\">\n        <div class=\"col-sm-7\">\n            <form ng-submit=\"saveNewAssignment()\" class=\"well\">\n                <legend>Create a new Task</legend>\n                <div class=\"form-group\">\n                    <label for=\"assignmentName\">Name</label>\n                    <input type=\"text\" id=\"assignmentName\" class=\"form-control\" ng-model=\"newAssignment.name\"\n                           placeholder=\"Awesome Task...\"/>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"assignmentProject\">Project</label>\n                    <select id=\"assignmentProject\" class=\"form-control\" ng-model=\"newAssignment.project\"\n                            ng-options=\"k as v.name for (k, v) in projects\"></select>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"assignmentDay\">Day</label>\n                    <select class=\"form-control\" id=\"assignmentDay\" ng-model=\"newAssignment.day\"\n                            ng-options=\"day for day in days\"></select>\n                </div>\n                <div class=\"form-utilization\">\n                    <label for=\"assignmentUtilization\">Utilization (in %)</label>\n\n                    <div class=\"row\">\n                        <div class=\"col-sm-6\">\n                            <input type=\"range\" ng-model=\"newAssignment.utilization\">\n                        </div>\n                        <div class=\"col-sm-6\">\n                            <input class=\"form-control\" type=\"text\" ng-model=\"newAssignment.utilization\">\n                        </div>\n                    </div>\n                </div>\n\n\n                <button class=\"btn btn-default\" type=\"submit\">save</button>\n            </form>\n        </div>\n        <div class=\"col-sm-5 tasks-icon hidden-xs\">\n            <i class=\"fa fa-tasks\"></i>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"filter form-group col-md-offset-4 col-md-4 col-sm-offset-3 col-sm-6\">\n            <input type=\"search\" class=\"form-control filter-control\" placeholder=\"search users\" ng-model=\"search\"/>\n        </div>\n    </div>\n    <div class=\"grid\">\n        <div class=\"row hidden-xs\">\n            <div class=\"col-sm-2\">\n                <div class=\"grid-header\"> User</div>\n            </div>\n            <div class=\"col-sm-2\" ng-repeat=\"day in days\">\n                <div class=\"grid-header\">{{ day }}</div>\n            </div>\n        </div>\n        <div class=\"row\" ng-repeat=\"user in users | firebaseLikeFilter: search\">\n            <div class=\"col-sm-2\">\n                <div class=\"grid-item\"><strong>{{ user.name }}</strong></div>\n            </div>\n            <div class=\"col-sm-2\" ng-repeat=\"day in days\">\n                <div class=\"grid-item\">\n                    <div class=\"visible-xs text-center\">{{day}}</div>\n                    <progress>\n\n                        <bar\n                                ng-repeat=\"(id,assignment) in assignments | firebaseFilter: {day: day, week: week, user: user.email}\"\n                                type=\"{{ barColor(id) }}\"\n                                value=\"assignment.utilization\"\n                                >\n                            <div tooltip=\"{{ getProjectName(assignment.project) }}: {{assignment.name}}\"> {{\n                                assignment.utilization }}%\n                            </div>\n                        </bar>\n                    </progress>\n                    <ul class=\"list-unstyled\">\n                        <li ng-repeat=\"(id,assignment) in assignments | firebaseFilter: {day: day, week: week, user: user.email}\">\n                            {{ getProjectName(assignment.project) }}: {{assignment.name}}\n                            <button ng-click=\"removeAssignment(id)\"\n                                    class=\"btn btn-{{ barColor(id) }} btn-xs pull-right\"><i class=\"fa fa-times\"></i>\n                            </button>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","markers":{"markers":{"1":{"id":1,"range":[[15,0],[15,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":200,"goalBufferRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/marian/Projects/miniprojects/rct2-ResourCeTool2/src/partials/assignments/view.html","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"4c604369f66dddaea6a2a1b3bbdc0da871e3cd3e","deserializer":"TextBuffer"},{"text":"module.exports = angular.module('app.sssignments', [])\n    .factory('AssignmentsFactory', function ($firebase, FirebaseRef) {\n        var assignmentRef = FirebaseRef('assignments');\n        return {\n            assignments: $firebase(assignmentRef),\n            add: function (data) {\n                this.assignments.$add(data);\n            },\n            remove: function (id) {\n                this.assignments.$remove(id);\n            }\n        };\n    })\n    .controller('AssignmentsCtrl', function ($scope, ProjectsFactory, AssignmentsFactory, loginService, UsersFactory) {\n        var colors = ['success', 'info', 'warning', 'danger'];\n        var assignedColors = {};\n        var colorCounter = -1;\n        $scope.week = moment().week();\n        $scope.users = UsersFactory.users;\n        $scope.newAssignment = {utilization: 5};\n        $scope.projects = ProjectsFactory.projects;\n        $scope.assignments = AssignmentsFactory.assignments;\n        $scope.days = getDays();\n        function getDays() {\n            return [\"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\"];\n        }\n\n        $scope.incrementWeek = function () {\n            $scope.week++;\n        };\n        $scope.decrementWeek = function () {\n            $scope.week--;\n        };\n        $scope.saveNewAssignment = function () {\n            $scope.newAssignment.week = $scope.week;\n            $scope.newAssignment.user = loginService.currentUser().email;\n            AssignmentsFactory.add($scope.newAssignment);\n            $scope.newAssignment = { utilization: 5};\n        };\n        $scope.removeAssignment = function (id) {\n            AssignmentsFactory.remove(id);\n        };\n        $scope.barColor = function (id) {\n            if (!assignedColors[id]) {\n                assignedColors[id] = colors[colorCounter % 4];\n                colorCounter++;\n            }\n            return assignedColors[id];\n        };\n        $scope.getProjectName = function (projectId) {\n            return $scope.projects[projectId].name;\n        }\n    });","markers":{"markers":{"1":{"id":1,"range":[[39,15],[39,31]],"tailed":true,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":204,"goalBufferRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/marian/Projects/miniprojects/rct2-ResourCeTool2/src/scripts/assignments/index.js","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"54393091bad5815e35648079809a68da37193c99","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"items":[{"id":195,"softTabs":true,"displayBuffer":{"id":196,"softWrap":false,"editorWidthInChars":152,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marian/Projects/miniprojects/rct2-ResourCeTool2/src/scripts/tasks/index.js","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":200,"softTabs":true,"displayBuffer":{"id":201,"softWrap":false,"editorWidthInChars":152,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marian/Projects/miniprojects/rct2-ResourCeTool2/src/partials/assignments/view.html","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":204,"softTabs":true,"displayBuffer":{"id":205,"softWrap":false,"editorWidthInChars":148,"scrollTop":226,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/marian/Projects/miniprojects/rct2-ResourCeTool2/src/scripts/assignments/index.js","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"}],"activeItemUri":"/Users/marian/Projects/miniprojects/rct2-ResourCeTool2/src/scripts/assignments/index.js","focused":true,"active":true,"deserializer":"Pane"},"deserializer":"PaneContainer"},"fullScreen":false,"deserializer":"Workspace"},"packageStates":{"command-logger":{"eventLog":{"editor:grammar-changed":{"count":24,"name":"editor:grammar-changed","lastRun":1401778464257},"tabs:close-all-tabs":{"count":1,"name":"tabs:close-all-tabs","lastRun":1401778434539}}},"fuzzy-finder":{"/Users/marian/Projects/miniprojects/rct2-ResourCeTool2/src/scripts/tasks/index.js":1401778439018,"/Users/marian/Projects/miniprojects/rct2-ResourCeTool2/src/partials/assignments/view.html":1401780079990,"/Users/marian/Projects/miniprojects/rct2-ResourCeTool2/src/scripts/assignments/index.js":1401780559778},"keybinding-resolver":{"attached":false},"metrics":{"sessionLength":8330198},"tree-view":{"directoryExpansionStates":{"src":{"partials":{"assignments":{},"projects":{}},"scripts":{"assignments":{},"home":{},"projects":{},"tasks":{}}}},"selectedPath":"/Users/marian/Projects/miniprojects/rct2-ResourCeTool2/src/scripts/assignments/index.js","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}}}