{"mode":"editor","version":1,"windowDimensions":{"x":0,"y":22,"width":1098,"height":812},"syntax":{"deserializer":"Syntax","grammarOverridesByPath":{}},"project":{"path":"/Library/WebServer/Documents/pagekit","buffers":[{"text":"{\n    \"name\": \"pagekit/pagekit\",\n    \"type\": \"project\",\n    \"description\": \"The Pagekit CMS\",\n    \"keywords\": [\"cms\", \"pagekit\"],\n    \"homepage\": \"http://pagekit.com\",\n    \"license\": \"MIT\",\n    \"authors\": [\n        {\n            \"name\": \"Pagekit Team\",\n            \"email\": \"info@pagekit.com\"\n        }\n    ],\n    \"require\": {\n        \"php\": \">=5.4.0\",\n        \"pagekit/framework\": \"0.9.*\",\n        \"pagekit/razr\": \"0.9.*\"\n    },\n    \"minimum-stability\": \"dev\"\n}","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":22},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Library/WebServer/Documents/pagekit/composer.json","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"43d215d35fb5c2d35b9a76799c1bc58fe1fe97a4","deserializer":"TextBuffer"},{"text":"@foreach ($value as $widget)\n@raw($widget.render($options))\n@endforeach","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":44},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Library/WebServer/Documents/pagekit/themes/alpha/views/renderer/position.blank.razr","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"7c9bd88df8e5241a07373b5e3aaf5f2eb05f7c45","deserializer":"TextBuffer"},{"text":"<?php\n\n$widths = [\n    ['1-1'],\n    ['1-2', '1-2'],\n    ['1-3', '1-3', '1-3'],\n    ['1-4', '1-4', '1-4', '1-4'],\n    ['1-5', '1-5', '1-5', '1-5', '1-5'],\n    ['1-6', '1-6', '1-6', '1-6', '1-6', '1-6']\n];\n\n$i      = 0;\n$output = [];\n$count  = count($value);\n$width  = isset($widths[($count-1)]) ? $widths[($count-1)] : array_pad([], $count, '1-6');\n\nforeach ($value as $widget) {\n\n    $class     = $width[$i];\n\n    $output[] = '<div class=\"uk-width-medium-'.$class.'\">';\n    $output[] =     '<div class=\"uk-panel\">';\n    $output[] =         $widget->getShowTitle() ? '<h3>'.$widget->getTitle().'</h3>':'';\n    $output[] =         $widget->render($options);\n    $output[] =     '</div>';\n    $output[] = '</div>';\n\n    $i++;\n}\n\necho implode(\"\\n\", $output);","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":48},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Library/WebServer/Documents/pagekit/themes/alpha/views/renderer/position.grid.php","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"c8ee3c7ecb6380603e0c790c439698b57e583f63","deserializer":"TextBuffer"},{"text":"@foreach ($value as $widget)\n    @if ($widget.type == 'widget.menu')\n\n    @raw($widget.render(array_merge(['layout' => 'extension://system/views/widgets/menu/navbar.razr'], $options)))\n\n    @else\n\n    @raw($widget.render($options))\n\n    @endif\n@endforeach","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":52},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Library/WebServer/Documents/pagekit/themes/alpha/views/renderer/position.navbar.razr","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"fbc8d3e6e2c5e45116d71d79fa8b37d0a07b245b","deserializer":"TextBuffer"},{"text":"<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n        <link href=\"@url('extension://system/theme/favicon.ico')\" rel=\"shortcut icon\" type=\"image/x-icon\">\n        <link href=\"@url('extension://system/theme/apple_touch_icon.png')\" rel=\"apple-touch-icon-precomposed\">\n        @section('head')\n        @style('theme', 'theme://alpha/css/theme.css')\n        @script('jquery')\n        @script('uikit')\n    </head>\n    <body>\n\n        <div class=\"uk-container uk-container-center\">\n\n            @if (hasSection('logo'))\n            <div class=\"tm-logo uk-hidden-small\">\n                <a href=\"@url()\" class=\"tm-brand\">@section('logo', ['renderer' => 'blank'])</a>\n            </div>\n            @endif\n\n            @if (hasSection('navbar'))\n            <div class=\"tm-navbar\">\n\n                <nav class=\"uk-navbar uk-hidden-small\">\n                    @section('navbar', ['renderer' => 'navbar'])\n                </nav>\n\n                @if (hasSection('offcanvas'))\n                <a href=\"#offcanvas\" class=\"uk-navbar-toggle uk-visible-small\" data-uk-offcanvas></a>\n                @endif\n\n                @if (hasSection('logo-small'))\n                <div class=\"uk-navbar-content uk-navbar-center uk-visible-small\">\n                    <a href=\"@url()\" class=\"tm-brand\">@section('logo-small', ['renderer' => 'blank'])</a>\n                </div>\n                @endif\n\n            </div>\n            @endif\n\n            @section('messages')\n\n            @if (hasSection('top'))\n            <section class=\"uk-grid uk-grid-divider\" data-uk-grid-match=\"{ target: '> div > .uk-panel' }\" data-uk-grid-margin>\n                @section('top', ['renderer' => 'grid'])\n            </section>\n            @endif\n\n            <div class=\"uk-grid\" data-uk-grid-margin data-uk-grid-match>\n\n                <div class=\"@( $theme.classes.columns.main['class'] )\">\n                    @section('content')\n                </div>\n\n                @if (hasSection('sidebar-a'))\n                <aside class=\"@( $theme.classes.columns['sidebar-a']['class'] )\">\n                    @section('sidebar-a', ['renderer' => 'panel'])\n                </aside>\n                @endif\n\n                @if (hasSection('sidebar-b'))\n                <aside class=\"@( $theme.classes.columns['sidebar-b']['class'] )\">\n                    @section('sidebar-b', ['renderer' => 'panel'])\n                </aside>\n                @endif\n\n            </div>\n\n            @if (hasSection('footer'))\n            <footer class=\"uk-grid\" data-uk-grid-match=\"{ target: '> div > .uk-panel' }\" data-uk-grid-margin>\n                @section('footer', ['renderer' => 'grid'])\n            </footer>\n            @endif\n\n        </div>\n\n        @if (hasSection('offcanvas'))\n        <div id=\"offcanvas\" class=\"uk-offcanvas\">\n            <div class=\"uk-offcanvas-bar\">\n                @section('offcanvas', ['renderer' => 'offcanvas'])\n            </div>\n        </div>\n        @endif\n\n    </body>\n</html>\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":58},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Library/WebServer/Documents/pagekit/themes/alpha/templates/template.razr","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"568ca5d469737f8275be808678daf9e1256a662e","deserializer":"TextBuffer"},{"text":"<?php\n\nnamespace Pagekit\\Alpha;\n\nuse Pagekit\\Framework\\Application;\nuse Pagekit\\Theme\\Theme;\n\nclass AlphaTheme extends Theme\n{\n    /**\n     * @var array\n     */\n    protected $classes;\n\n    /**\n     * {@inheritdoc}\n     */\n    public function boot(Application $app)\n    {\n        parent::boot($app);\n\n        $app->on('system.site', function() use ($app) {\n\n            $app->on('view.layout', function($event) use ($app) {\n\n                $event->setParameter('theme', $app['theme.site']);\n\n            });\n\n        });\n    }\n\n    public function getClasses()\n    {\n        if (null !== $this->classes) {\n            return $this->classes;\n        }\n\n        $sidebars = array_replace_recursive([\n            'sidebar-a' => ['width' => 12, 'alignment' => 'left'],\n            'sidebar-b' => ['width' => 12, 'alignment' => 'right']\n        ], $this->getConfig('sidebars', []));\n        $columns  = ['main' => ['width' => 60, 'alignment' => 'right']];\n\n        $gcf = function($a, $b = 60) use(&$gcf) {\n            return (int) ($b > 0 ? $gcf($b, $a % $b) : $a);\n        };\n\n        $fraction = function($nominator, $divider = 60) use(&$gcf) {\n            return $nominator / ($factor = $gcf($nominator, $divider)) .'-'. $divider / $factor;\n        };\n\n        $sections = $this['view.sections'];\n        foreach ($sidebars as $name => $sidebar) {\n            if (!$sections->has($name)) {\n                unset($sidebars[$name]);\n                continue;\n            }\n\n            $columns['main']['width'] -= @$sidebar['width'];\n        }\n\n        $columns += $sidebars;\n        foreach ($columns as $name => &$column) {\n\n            $column['width']     = isset($column['width']) ? $column['width'] : 0;\n            $column['alignment'] = isset($column['alignment']) ? $column['alignment'] : 'left';\n\n            $shift = 0;\n            foreach (($column['alignment'] == 'left' ? $columns : array_reverse($columns, true)) as $n => $col) {\n                if ($name == $n) break;\n                if (@$col['alignment'] != $column['alignment']) {\n                    $shift += @$col['width'];\n                }\n            }\n            $column['class'] = sprintf('tm-%s uk-width-medium-%s%s', $name, $fraction($column['width']), $shift ? ' uk-'.($column['alignment'] == 'left' ? 'pull' : 'push').'-'.$fraction($shift) : '');\n        }\n\n        $this->classes = compact('columns');\n        return $this->classes;\n    }\n}\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":63},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Library/WebServer/Documents/pagekit/themes/alpha/src/AlphaTheme.php","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"ac8a7fd8bdbb5bbd12f17c90f275a6b129d57535","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"id":3,"items":[{"id":22,"softTabs":true,"displayBuffer":{"id":23,"softWrap":false,"editorWidthInChars":109,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Library/WebServer/Documents/pagekit/composer.json","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":44,"softTabs":true,"displayBuffer":{"id":45,"softWrap":false,"editorWidthInChars":97,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Library/WebServer/Documents/pagekit/themes/alpha/views/renderer/position.blank.razr","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":48,"softTabs":true,"displayBuffer":{"id":49,"softWrap":false,"editorWidthInChars":97,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Library/WebServer/Documents/pagekit/themes/alpha/views/renderer/position.grid.php","tabLength":4,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":52,"softTabs":true,"displayBuffer":{"id":53,"softWrap":false,"editorWidthInChars":97,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Library/WebServer/Documents/pagekit/themes/alpha/views/renderer/position.navbar.razr","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":58,"softTabs":true,"displayBuffer":{"id":59,"softWrap":false,"editorWidthInChars":97,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Library/WebServer/Documents/pagekit/themes/alpha/templates/template.razr","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":63,"softTabs":true,"displayBuffer":{"id":64,"softWrap":false,"editorWidthInChars":97,"scrollTop":766,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Library/WebServer/Documents/pagekit/themes/alpha/src/AlphaTheme.php","tabLength":4,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"}],"activeItemUri":"/Library/WebServer/Documents/pagekit/themes/alpha/src/AlphaTheme.php","focused":false,"deserializer":"Pane"},"activePaneId":3,"deserializer":"PaneContainer","version":1},"fullScreen":false,"packagesWithActiveGrammars":["language-json","language-php","language-html"],"deserializer":"Workspace"},"packageStates":{"command-logger":{"eventLog":{"editor:grammar-changed":{"count":6,"name":"editor:grammar-changed","lastRun":1407172412319},"application:quit":{"count":1,"name":"application:quit","lastRun":1407172419778}}},"go-format":{"viewState":""},"fuzzy-finder":{"/Library/WebServer/Documents/pagekit/composer.json":1407172285105,"/Library/WebServer/Documents/pagekit/themes/alpha/views/renderer/position.blank.razr":1407172393105,"/Library/WebServer/Documents/pagekit/themes/alpha/views/renderer/position.grid.php":1407172393981,"/Library/WebServer/Documents/pagekit/themes/alpha/views/renderer/position.navbar.razr":1407172401189,"/Library/WebServer/Documents/pagekit/themes/alpha/templates/template.razr":1407172407418,"/Library/WebServer/Documents/pagekit/themes/alpha/src/AlphaTheme.php":1407172412331},"keybinding-resolver":{"attached":false},"metrics":{"sessionLength":143214},"tree-view":{"directoryExpansionStates":{"themes":{"alpha":{"src":{},"templates":{}}}},"selectedPath":"/Library/WebServer/Documents/pagekit/themes/alpha/src/AlphaTheme.php","hasFocus":true,"attached":true,"scrollLeft":0,"scrollTop":0,"width":292}}}