{"mode":"editor","version":1,"windowDimensions":{"x":98,"y":22,"width":1254,"height":948},"syntax":{"deserializer":"Syntax","grammarOverridesByPath":{}},"project":{"path":"/Users/marian/.atom/packages/weather-package","buffers":[{"text":"{\n  \"name\": \"weather-package\",\n  \"main\": \"./lib/weather-package\",\n  \"version\": \"0.1.0\",\n  \"description\": \"Shows weather, temperature and pressure right in your editor.\",\n  \"activationEvents\": [\n    \"weather-package:toggle\"\n  ],\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/gladimdim/weather-package\"\n  },\n  \"license\": \"MIT\",\n  \"engines\": {\n    \"atom\": \">0.50.0\"\n  },\n  \"dependencies\": {},\n  \"readme\": \"# weather-package package\\n\\nThis package allows you to check weather right in your editor.\\nA small popover window shows current condition outside, temperature and pressure:\\n\\n![](https://lh6.googleusercontent.com/-iYXP--vAhsw/UzsTbjvo9gI/AAAAAAAA-to/O3ne5I_qRao/s781/Screen%2520Shot%25202014-04-01%2520at%252010.26.55%2520PM.png)\\n\\nUse shortcut 'ctrl-alt-o' to toggle display of weather.\\n\\nUse settings to set your home town and units of measure. By default all units are metric:\\n![](https://lh4.googleusercontent.com/-_cWAmTvl_UY/UzsTiJ_s8QI/AAAAAAAA-tw/ugFTxPVnOcs/s720/Screen%2520Shot%25202014-04-01%2520at%252010.28.54%2520PM.png)\\n\",\n  \"readmeFilename\": \"README.md\",\n  \"bugs\": {\n    \"url\": \"https://github.com/gladimdim/weather-package/issues\"\n  },\n  \"homepage\": \"https://github.com/gladimdim/weather-package\",\n  \"_id\": \"weather-package@0.1.0\",\n  \"dist\": {\n    \"shasum\": \"888f54383ed2abcbb4ecd6e90b0779221d3089a4\"\n  },\n  \"_resolved\": \"/var/folders/fz/j22sgsxd2tb97mzzprg7sx980000gn/T/d-11435-5271-1elpixx/package.tgz\",\n  \"_from\": \"/var/folders/fz/j22sgsxd2tb97mzzprg7sx980000gn/T/d-11435-5271-1elpixx/package.tgz\"\n}\n","markers":{"markers":{"1":{"id":1,"range":[[15,4],[15,4]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":15,"goalBufferRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/marian/.atom/packages/weather-package/package.json","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"5e6505704f06d02e91397a7e323005ddbfebec1c","deserializer":"TextBuffer"},{"text":"# weather-package package\n\nThis package allows you to check weather right in your editor.\nA small popover window shows current condition outside, temperature and pressure:\n\n![](https://lh6.googleusercontent.com/-iYXP--vAhsw/UzsTbjvo9gI/AAAAAAAA-to/O3ne5I_qRao/s781/Screen%2520Shot%25202014-04-01%2520at%252010.26.55%2520PM.png)\n\nUse shortcut 'ctrl-alt-o' to toggle display of weather.\n\nUse settings to set your home town and units of measure. By default all units are metric:\n![](https://lh4.googleusercontent.com/-_cWAmTvl_UY/UzsTiJ_s8QI/AAAAAAAA-tw/ugFTxPVnOcs/s720/Screen%2520Shot%25202014-04-01%2520at%252010.28.54%2520PM.png)\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":17},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/marian/.atom/packages/weather-package/README.md","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"c0dc7d193b442d23bac2c2666a4ff38679a454d3","deserializer":"TextBuffer"},{"text":"{View} = require 'atom'\n\nmodule.exports =\nclass WeatherPackageView extends View\n  @content: ->\n    @div class: 'weather-package overlay from-top from-right', =>\n        @div \"City\", class: \"city\", id: \"city\"\n        @div \"Temperature\", class: \"temp\", id: \"temp\"\n        @div \"Pressure\", class: \"pressure\", id: \"pressure\"\n\n  initialize: (serializeState) ->\n    atom.workspaceView.command \"weather-package:toggle\", => @toggle()\n\n  # Returns an object that can be retrieved when package is activated\n  serialize: ->\n\n  # Tear down any state and detach\n  destroy: ->\n    @detach()\n\n  toggle: ->\n    if @hasParent()\n      @detach()\n      return\n\n    atom.workspaceView.appendToBottom(this)\n    city = atom.config.get(\"weather-package.city\")\n    unless (city?)\n      city = \"Kiev\"\n      atom.config.set(\"weather-package.city\", city)\n\n    fahrenheit = atom.config.get(\"weather-package.showInFahrenheit\");\n    unless ( fahrenheit? )\n      fahrenheit = true\n      atom.config.set(\"weather-package.showInFahrenheit\", true)\n\n    that = this\n    view = this\n    constructor = {\n      units: \"imperial\"\n      unitTemp: \"F\"\n      unitPress: \"hPa\"\n      correctPress: 1\n    }\n    if not fahrenheit\n      constructor.units = \"metric\"\n      constructor.unitTemp = \"C\"\n      constructor.unitPress = \"mmHg\"\n      constructor.correctPress = 1.33\n    xml = new XMLHttpRequest()\n    xml.addEventListener 'readystatechange', ->\n      if xml.readyState == 4 and xml.status == 200\n        oJSON = JSON.parse xml.responseText\n        pressure = oJSON.main.pressure/constructor.correctPress\n        view.find(\"#city\").text \"City: \" + oJSON.name + \" \" + oJSON.weather[0].description\n        view.find(\"#temp\").text \"Temperature: \" + oJSON.main.temp.toFixed() + \" \" + constructor.unitTemp\n        view.find(\"#pressure\").text \"Pressure: \" + pressure.toFixed(2) + \" \" + constructor.unitPress\n    sUrl = \"http://api.openweathermap.org/data/2.5/weather?q=\" + city + \"&units=\"+ constructor.units\n    xml.open \"get\", sUrl , true\n    xml.send()\n\n    remove = () ->\n      view.detach()\n    #setTimeout(remove, 7000)\n","markers":{"markers":{"1":{"id":1,"range":[[26,4],[26,50]],"tailed":true,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":24,"goalBufferRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/marian/.atom/packages/weather-package/lib/weather-package-view.coffee","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"ded62c2272374aa4ba6874e47e2e7afa87bddcea","deserializer":"TextBuffer"},{"text":"# See https://atom.io/docs/latest/creating-a-package#menus for more details\n'context-menu':\n  '.overlayer':\n      'Enable weather-package': 'weather-package:toggle'\n\n'menu': [\n  {\n    'label': 'Packages'\n    'submenu': [\n      'label': 'weather-package'\n      'submenu': [\n        { 'label': 'Toggle', 'command': 'weather-package:toggle' }\n      ]\n    ]\n  }\n]\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":27},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/marian/.atom/packages/weather-package/menus/weather-package.cson","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"242c5f61d4e4d32b76456b3d4073128106252ccc","deserializer":"TextBuffer"},{"text":"WeatherPackageView = require './weather-package-view'\n\nmodule.exports =\n  weatherPackageView: null\n\n  activate: (state) ->\n    @weatherPackageView = new WeatherPackageView(state.weatherPackageViewState)\n\n  deactivate: ->\n    @weatherPackageView.destroy()\n\n  serialize: ->\n    weatherPackageViewState: @weatherPackageView.serialize()\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":29},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/marian/.atom/packages/weather-package/lib/weather-package.coffee","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"66291cc110071c47e37edfc04a001f3f5728573d","deserializer":"TextBuffer"},{"text":"WeatherPackage = require '../lib/weather-package'\n\n# Use the command `window:run-package-specs` (cmd-alt-ctrl-p) to run specs.\n#\n# To run a specific `it` or `describe` block add an `f` to the front (e.g. `fit`\n# or `fdescribe`). Remove the `f` to unfocus the block.\n\ndescribe \"WeatherPackage\", ->\n  activationPromise = null\n\n  beforeEach ->\n    atom.workspaceView = new WorkspaceView\n    activationPromise = atom.packages.activatePackage('weatherPackage')\n\n  describe \"when the weather-package:toggle event is triggered\", ->\n    it \"attaches and then detaches the view\", ->\n      expect(atom.workspaceView.find('.weather-package')).not.toExist()\n\n      # This is an activation event, triggering it will cause the package to be\n      # activated.\n      atom.workspaceView.trigger 'weather-package:toggle'\n\n      waitsForPromise ->\n        activationPromise\n\n      runs ->\n        expect(atom.workspaceView.find('.weather-package')).toExist()\n        atom.workspaceView.trigger 'weather-package:toggle'\n        expect(atom.workspaceView.find('.weather-package')).not.toExist()\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":31},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/marian/.atom/packages/weather-package/spec/weather-package-spec.coffee","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"96bd3a402a1038c765f552af689229d2d6cd4608","deserializer":"TextBuffer"},{"text":"WeatherPackageView = require '../lib/weather-package-view'\n{WorkspaceView} = require 'atom'\n\ndescribe \"WeatherPackageView\", ->\n  it \"has one valid test\", ->\n    expect(\"life\").toBe \"easy\"\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":33},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/marian/.atom/packages/weather-package/spec/weather-package-view-spec.coffee","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"d3fc348c72a2c64faded8176a1fcdbe22f2e2133","deserializer":"TextBuffer"},{"text":"# Keybindings require three things to be fully defined: A selector that is\n# matched against the focused element, the keystroke and the command to\n# execute.\n#\n# Below is a basic keybinding which registers on all platforms by applying to\n# the root workspace element.\n\n# For more detailed documentation see\n# https://atom.io/docs/latest/advanced/keymaps\n'.workspace':\n  'cmd-alt-o': 'weather-package:toggle'\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":35},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/marian/.atom/packages/weather-package/keymaps/weather-package.cson","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"c764cf60ee45c9442cadb11c43c6b60c861df06a","deserializer":"TextBuffer"},{"text":"// The ui-variables file is provided by base themes provided by Atom.\n//\n// See https://github.com/atom/atom-dark-ui/blob/master/stylesheets/ui-variables.less\n// for a full listing of what's available.\n@import \"ui-variables\";\n\n.weather-package {\n  right: 20%\n}\n\n#city {\n  color: white\n}\n\n#pressure {\n  color: green\n}\n\n#temp {\n  color: red\n}\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":38},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/marian/.atom/packages/weather-package/stylesheets/weather-package.less","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"f61f0579795ab1bdc2561c0a73f1c6b911abe39f","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"items":[{"id":15,"softTabs":true,"scrollTop":0,"scrollLeft":0,"displayBuffer":{"id":16,"softWrap":false,"editorWidthInChars":112,"tokenizedBuffer":{"bufferPath":"/Users/marian/.atom/packages/weather-package/package.json","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":17,"softTabs":true,"scrollTop":0,"scrollLeft":0,"displayBuffer":{"id":18,"softWrap":false,"editorWidthInChars":116,"tokenizedBuffer":{"bufferPath":"/Users/marian/.atom/packages/weather-package/README.md","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":24,"softTabs":true,"scrollTop":313,"scrollLeft":0,"displayBuffer":{"id":25,"softWrap":false,"editorWidthInChars":116,"tokenizedBuffer":{"bufferPath":"/Users/marian/.atom/packages/weather-package/lib/weather-package-view.coffee","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":35,"softTabs":true,"scrollTop":0,"scrollLeft":0,"displayBuffer":{"id":36,"softWrap":false,"editorWidthInChars":116,"tokenizedBuffer":{"bufferPath":"/Users/marian/.atom/packages/weather-package/keymaps/weather-package.cson","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":38,"softTabs":true,"scrollTop":0,"scrollLeft":0,"displayBuffer":{"id":39,"softWrap":false,"editorWidthInChars":116,"tokenizedBuffer":{"bufferPath":"/Users/marian/.atom/packages/weather-package/stylesheets/weather-package.less","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":31,"softTabs":true,"scrollTop":0,"scrollLeft":0,"displayBuffer":{"id":32,"softWrap":false,"editorWidthInChars":116,"tokenizedBuffer":{"bufferPath":"/Users/marian/.atom/packages/weather-package/spec/weather-package-spec.coffee","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":33,"softTabs":true,"scrollTop":0,"scrollLeft":0,"displayBuffer":{"id":34,"softWrap":false,"editorWidthInChars":116,"tokenizedBuffer":{"bufferPath":"/Users/marian/.atom/packages/weather-package/spec/weather-package-view-spec.coffee","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":27,"softTabs":true,"scrollTop":0,"scrollLeft":0,"displayBuffer":{"id":28,"softWrap":false,"editorWidthInChars":116,"tokenizedBuffer":{"bufferPath":"/Users/marian/.atom/packages/weather-package/menus/weather-package.cson","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":29,"softTabs":true,"scrollTop":0,"scrollLeft":0,"displayBuffer":{"id":30,"softWrap":false,"editorWidthInChars":116,"tokenizedBuffer":{"bufferPath":"/Users/marian/.atom/packages/weather-package/lib/weather-package.coffee","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"}],"activeItemUri":"/Users/marian/.atom/packages/weather-package/lib/weather-package-view.coffee","focused":false,"active":true,"deserializer":"Pane"},"deserializer":"PaneContainer"},"fullScreen":false,"deserializer":"Workspace"},"packageStates":{"command-logger":{"eventLog":{"command-palette:toggle":{"count":1,"name":"command-palette:toggle","lastRun":1396696898753},"weather-package:toggle":{"count":3,"name":"weather-package:toggle","lastRun":1396696907578}}},"weather-package":{},"fuzzy-finder":{"/Users/marian/.atom/packages/weather-package/package.json":1396696843336,"/Users/marian/.atom/packages/weather-package/README.md":1396696649314,"/Users/marian/.atom/packages/weather-package/lib/weather-package-view.coffee":1396696929128,"/Users/marian/.atom/packages/weather-package/menus/weather-package.cson":1396696861961,"/Users/marian/.atom/packages/weather-package/lib/weather-package.coffee":1396696868702,"/Users/marian/.atom/packages/weather-package/spec/weather-package-spec.coffee":1396696737938,"/Users/marian/.atom/packages/weather-package/spec/weather-package-view-spec.coffee":1396696730387,"/Users/marian/.atom/packages/weather-package/keymaps/weather-package.cson":1396696840990,"/Users/marian/.atom/packages/weather-package/stylesheets/weather-package.less":1396696761716},"keybinding-resolver":{"attached":false},"metrics":{"sessionLength":81636272},"tree-view":{"directoryExpansionStates":{"keymaps":{},"lib":{},"menus":{},"spec":{},"stylesheets":{}},"selectedPath":"/Users/marian/.atom/packages/weather-package/lib/weather-package-view.coffee","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":296}}}